@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Mimic Pico CSS defaults */
  :root {
    --pico-font-family: system-ui, -apple-system, "Segoe UI", "Roboto", "Ubuntu", "Cantarell", "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    --pico-line-height: 1.5;
    --pico-font-size: 100%; /* 16px */
    --pico-border-radius: 0.25rem;
    --pico-spacing: 1rem;
    --pico-form-element-spacing-vertical: 0.75rem;
    --pico-form-element-spacing-horizontal: 1rem;

    /* Light Theme (Default) */
    --pico-color: #373c44;
    --pico-background-color: #fff;
    --pico-primary: #1095c1;
    --pico-primary-hover: #08769b;
    --pico-primary-inverse: #fff;
    --pico-muted-border-color: #edf0f3;
    --pico-card-background-color: #fff;
    --pico-card-box-shadow: 0.0145rem 0.029rem 0.174rem rgba(0, 0, 0, 0.01698), 0.0335rem 0.067rem 0.402rem rgba(0, 0, 0, 0.024), 0.0625rem 0.125rem 0.75rem rgba(0, 0, 0, 0.03), 0.1125rem 0.225rem 1.35rem rgba(0, 0, 0, 0.036), 0.2085rem 0.417rem 2.502rem rgba(0, 0, 0, 0.04302), 0.5rem 1rem 6rem rgba(0, 0, 0, 0.06), 0 0 0 0.0625rem rgba(0, 0, 0, 0.015);
    --pico-heading-color: #11191f;
  }

  /* Responsive Typography from Pico */
  @media (min-width: 576px) { :root { --pico-font-size: 106.25%; } }
  @media (min-width: 768px) { :root { --pico-font-size: 112.5%; } }
  @media (min-width: 1024px) { :root { --pico-font-size: 118.75%; } }
  @media (min-width: 1280px) { :root { --pico-font-size: 125%; } }

  /* Dark Theme */
  @media (prefers-color-scheme: dark) {
    :root {
      --pico-color: #bbc6ce;
      --pico-background-color: #11191f;
      --pico-primary: #1095c1;
      --pico-primary-hover: #08769b;
      --pico-primary-inverse: #fff;
      --pico-muted-border-color: #20313d;
      --pico-card-background-color: #141e26;
      --pico-card-box-shadow: 0.0145rem 0.029rem 0.174rem rgba(0, 0, 0, 0.01698), 0.0335rem 0.067rem 0.402rem rgba(0, 0, 0, 0.024), 0.0625rem 0.125rem 0.75rem rgba(0, 0, 0, 0.03), 0.1125rem 0.225rem 1.35rem rgba(0, 0, 0, 0.036), 0.2085rem 0.417rem 2.502rem rgba(0, 0, 0, 0.04302), 0.5rem 1rem 6rem rgba(0, 0, 0, 0.06), 0 0 0 0.0625rem rgba(0, 0, 0, 0.015);
      --pico-heading-color: #edf0f3;
    }
  }

  /* Since we don't have Pico, we implement basic resets and styles */
  html {
    font-family: var(--pico-font-family);
    line-height: var(--pico-line-height);
    color: var(--pico-color);
    background-color: var(--pico-background-color);
    box-sizing: border-box;
    font-size: var(--pico-font-size);
    -webkit-text-size-adjust: 100%;
  }

  *, *:before, *:after {
    box-sizing: inherit;
  }

  body {
    margin: 0;
    min-height: 100vh;
  }

  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
    margin-bottom: var(--pico-typography-spacing-vertical, 1rem);
    color: var(--pico-heading-color);
    font-weight: 700;
  }

  h1 { font-size: 2rem; }
  h2 { font-size: 1.75rem; }
  h3 { font-size: 1.5rem; }

  hgroup {
    margin-bottom: var(--pico-typography-spacing-vertical, 1rem);
  }

  hgroup > * {
    margin-bottom: 0;
  }

  hgroup > *:last-child {
    margin-bottom: 0;
  }

  a {
    color: var(--pico-primary);
    text-decoration: none;
  }

  a:hover {
    color: var(--pico-primary-hover);
    text-decoration: underline;
  }

  p {
    margin-bottom: var(--pico-typography-spacing-vertical, 1rem);
  }

  /* Pico Container */
  .container,
  .container-fluid {
    width: 100%;
    margin-right: auto;
    margin-left: auto;
    padding-right: var(--pico-spacing, 1rem);
    padding-left: var(--pico-spacing, 1rem);
  }

  /* Responsive breakpoints for container */
  @media (min-width: 576px) { .container { max-width: 510px; } }
  @media (min-width: 768px) { .container { max-width: 700px; } }
  @media (min-width: 1024px) { .container { max-width: 950px; } }
  @media (min-width: 1280px) { .container { max-width: 1200px; } }
  @media (min-width: 1536px) { .container { max-width: 1450px; } }

  nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    overflow-x: auto; /* Enable horizontal scrolling for mobile */
  }

  nav ul {
    display: flex;
    padding: 0;
    margin: 0;
    list-style: none;
    align-items: center; /* Pico nav ul usually has this */
  }

  nav li {
    padding: 0.5rem; /* Pico default */
    display: block;
    white-space: nowrap; /* Prevent menu items from wrapping */
  }

  /* Fix for Title alignment in nav */
  nav hgroup {
    margin-bottom: 0;
  }

  article {
    background-color: var(--pico-card-background-color);
    box-shadow: var(--pico-card-box-shadow);
    border-radius: var(--pico-border-radius);
    padding: var(--pico-block-spacing-vertical, 2rem) var(--pico-block-spacing-horizontal, 2rem);
    margin-bottom: var(--pico-block-spacing-vertical, 2rem);
    width: 100%;
  }

  /* Buttons */
  button,
  input[type="submit"],
  input[type="button"],
  [role="button"] {
    display: inline-block;
    padding: var(--pico-form-element-spacing-vertical) var(--pico-form-element-spacing-horizontal);
    border: 1px solid var(--pico-primary);
    border-radius: var(--pico-border-radius);
    outline: none;
    background-color: var(--pico-primary);
    color: var(--pico-primary-inverse);
    font-weight: 700;
    font-size: 1rem;
    line-height: var(--pico-line-height);
    text-align: center;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s, color 0.2s, box-shadow 0.2s;
  }

  button:hover,
  input[type="submit"]:hover,
  input[type="button"]:hover,
  [role="button"]:hover {
    background-color: var(--pico-primary-hover);
    border-color: var(--pico-primary-hover);
  }

  /* Outline Button */
  button.outline,
  [role="button"].outline {
    background-color: transparent;
    color: var(--pico-primary);
  }

  button.outline:hover,
  [role="button"].outline:hover {
    background-color: transparent;
    border-color: var(--pico-primary-hover);
    color: var(--pico-primary-hover);
  }

  /* Table */
  table {
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
    text-indent: 0;
  }

  th, td {
    padding: 0.5rem 1rem;
    border-bottom: 1px solid var(--pico-muted-border-color);
    text-align: left;
  }

  th {
    color: var(--pico-heading-color);
    font-weight: 600;
  }

  /* Grid */
  .grid {
    display: grid;
    grid-template-columns: 1fr;
    grid-row-gap: var(--pico-spacing);
    grid-column-gap: var(--pico-spacing);
  }

  @media (min-width: 992px) {
    .grid {
      grid-template-columns: repeat(auto-fit, minmax(0%, 1fr));
    }
  }

  /* Card Header/Footer */
  article > header,
  article > footer {
    margin-right: calc(var(--pico-block-spacing-horizontal, 2rem) * -1);
    margin-left: calc(var(--pico-block-spacing-horizontal, 2rem) * -1);
    padding: calc(var(--pico-block-spacing-vertical, 2rem) * 0.66) var(--pico-block-spacing-horizontal, 2rem);
    background-color: rgba(0, 0, 0, 0.05); /* Works for both light/dark roughly */
  }

  @media (prefers-color-scheme: dark) {
     article > header,
     article > footer {
        background-color: rgba(255, 255, 255, 0.05);
     }
  }

  article > header {
    margin-top: calc(var(--pico-block-spacing-vertical, 2rem) * -1);
    margin-bottom: var(--pico-block-spacing-vertical, 2rem);
    border-bottom: 1px solid var(--pico-muted-border-color);
    border-top-left-radius: var(--pico-border-radius);
    border-top-right-radius: var(--pico-border-radius);
  }

  article > footer {
    margin-top: var(--pico-block-spacing-vertical, 2rem);
    margin-bottom: calc(var(--pico-block-spacing-vertical, 2rem) * -1);
    border-top: 1px solid var(--pico-muted-border-color);
    border-bottom-left-radius: var(--pico-border-radius);
    border-bottom-right-radius: var(--pico-border-radius);
  }
}
